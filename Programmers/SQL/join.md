**[없어진 기록 찾기](https://programmers.co.kr/learn/courses/30/lessons/59042)**

```mysql
-- B에는 있고 A에는 없음 --
SELECT B.ANIMAL_ID, B.NAME
FROM ANIMAL_OUTS B
LEFT OUTER JOIN ANIMAL_INS A	-- OUTER 생략 가능--
ON A.ANIMAL_ID = B.ANIMAL_ID
WHERE A.ANIMAL_ID IS NULL
ORDER BY B.ANIMAL_ID

-- RIGHT JOIN --
SELECT B.ANIMAL_ID, B.NAME
FROM ANIMAL_INS A RIGHT JOIN ANIMAL_OUTS B
ON A.ANIMAL_ID = B.ANIMAL_ID
WHERE A.ANIMAL_ID IS NULL
```

> **GROUP BY**
> COUNT와 같이 집계 안하므로, `GROUP BY B.ANIMAL_ID` 는 필요없음. 



**[있었는데요 없었습니다](https://programmers.co.kr/learn/courses/30/lessons/59043)**

```mysql
-- JOIN --
SELECT A.ANIMAL_ID, A.NAME
FROM ANIMAL_INS A JOIN ANIMAL_OUTS B
ON A.ANIMAL_ID = B.ANIMAL_ID
WHERE A.DATETIME > B.DATETIME
ORDER BY A.DATETIME

-- WHERE --
SELECT A.ANIMAL_ID, A.NAME
FROM ANIMAL_INS AS A, ANIMAL_OUTS AS B -- AS 제외 가능
WHERE A.ANIMAL_ID=B.ANIMAL_ID AND A.DATETIME > B.DATETIME
ORDER BY A.DATETIME

-- INLINE VIEW --
SELECT SQ1.ANIMAL_ID, SQ1.NAME
FROM
    (
    SELECT A.ANIMAL_ID, A.NAME, A.DATETIME AS ATIME, B.DATETIME AS BTIME
    FROM ANIMAL_INS A, ANIMAL_OUTS B
    WHERE A.ANIMAL_ID = B.ANIMAL_ID
    ) SQ1
WHERE SQ1.ATIME > SQ1.BTIME
ORDER BY SQ1.ATIME
```



**[오랜 기간 보호한 동물(1)](https://programmers.co.kr/learn/courses/30/lessons/59044)**

```mysql
-- A에는 있고 B에는 없으니까 LEFT --
SELECT A.NAME, A.DATETIME
FROM ANIMAL_INS A LEFT JOIN ANIMAL_OUTS B
ON B.ANIMAL_ID = A.ANIMAL_ID
WHERE B.ANIMAL_ID IS NULL 
ORDER BY A.DATETIME LIMIT 3

-- 조금 더 이해하기 쉬운 Query --
SELECT A.NAME, A.DATETIME
    FROM (ANIMAL_INS A LEFT JOIN ANIMAL_OUTS B ON A.ANIMAL_ID = B.ANIMAL_ID)
    WHERE B.ANIMAL_ID is NULL
    ORDER BY A.DATETIME ASC
    LIMIT 3
```



**[보호소에서 중성화한 동물](https://programmers.co.kr/learn/courses/30/lessons/59045)**

```mysql
SELECT B.ANIMAL_ID, B.ANIMAL_TYPE, B.NAME
FROM ANIMAL_INS A JOIN ANIMAL_OUTS B
ON A.ANIMAL_ID = B.ANIMAL_ID
WHERE A.SEX_UPON_INTAKE LIKE '%Neutered%' AND B.SEX_UPON_OUTCOME NOT LIKE '%Neutered%'
ORDER BY A.ANIMAL_ID

-- INLINE VIEW --
SELECT B.ANIMAL_ID, B.ANIMAL_TYPE, B.NAME
FROM
    (
    SELECT *
    FROM ANIMAL_INS A
    WHERE SEX_UPON_INTAKE LIKE "%Intact%"
    ) SQ1, ANIMAL_OUTS B
WHERE SQ1.ANIMAL_ID = B.ANIMAL_ID
AND B.SEX_UPON_OUTCOME NOT LIKE "%Intact%"
```

